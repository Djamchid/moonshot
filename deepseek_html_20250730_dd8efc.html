<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Conqu√™te de la Lune : 400 000 km d'Ambition</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
            background: linear-gradient(135deg, #0a192f 0%, #1a3a5f 100%);
            color: #e0f0ff;
            min-height: 100vh;
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 1px, transparent 2px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 1px);
            background-size: 50px 50px, 30px 30px;
            background-position: 0 0, 25px 25px;
        }

        .book-container {
            background: rgba(15, 30, 50, 0.85);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin: 10px 0;
            width: 100%;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(100, 180, 255, 0.2);
        }

        .chapter-header {
            text-align: center;
            color: #4fc3f7;
            border-bottom: 3px solid #0288d1;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .chapter-header h1 {
            font-size: 1.5rem;
            margin: 0;
            line-height: 1.3;
        }

        .story-text {
            line-height: 1.7;
            font-size: 1rem;
            margin-bottom: 20px;
            text-align: justify;
            hyphens: auto;
        }

        .choices {
            display: grid;
            gap: 12px;
            margin-top: 20px;
        }

        .choice-button {
            padding: 15px;
            background: linear-gradient(135deg, #1976d2 0%, #0d47a1 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-align: left;
            line-height: 1.4;
            min-height: 60px;
            display: flex;
            align-items: center;
            border: 1px solid rgba(100, 180, 255, 0.3);
        }

        .choice-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
            background: linear-gradient(135deg, #2196f3 0%, #0d47a1 100%);
        }

        .choice-button:active {
            transform: translateY(0);
        }

        .tech-formula {
            background: rgba(2, 119, 189, 0.2);
            padding: 15px;
            border-left: 4px solid #0288d1;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 1rem;
            overflow-x: auto;
            white-space: nowrap;
            border-radius: 4px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #01579b;
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4fc3f7 0%, #0288d1 100%);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .ending {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .ending h2 {
            margin-top: 0;
            font-size: 1.5rem;
        }

        .success {
            background: linear-gradient(135deg, #00c853 0%, #1b5e20 100%);
            color: white;
        }

        .failure {
            background: linear-gradient(135deg, #ff6b6b 0%, #c62828 100%);
            color: white;
        }

        .restart-button {
            background: #00c853;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 15px;
            transition: background 0.3s ease;
            font-weight: bold;
        }

        .restart-button:hover {
            background: #009624;
        }

        .year {
            font-size: 0.8rem;
            color: #81d4fa;
            text-align: center;
            margin-bottom: 15px;
            font-style: italic;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #81d4fa;
        }

        .character {
            font-weight: bold;
            color: #4fc3f7;
        }

        /* Tablettes */
        @media (max-width: 768px) {
            body {
                padding: 8px;
            }

            .book-container {
                padding: 15px;
                border-radius: 10px;
                margin: 8px 0;
            }

            .chapter-header h1 {
                font-size: 1.3rem;
            }

            .story-text {
                font-size: 0.95rem;
                text-align: left;
            }

            .choice-button {
                padding: 12px;
                font-size: 0.85rem;
                min-height: 55px;
            }

            .tech-formula {
                padding: 12px;
                font-size: 0.9rem;
            }
        }

        /* Smartphones */
        @media (max-width: 480px) {
            body {
                padding: 5px;
                font-size: 14px;
            }

            .book-container {
                padding: 12px;
                border-radius: 8px;
                margin: 5px 0;
            }

            .chapter-header {
                padding-bottom: 10px;
                margin-bottom: 15px;
            }

            .chapter-header h1 {
                font-size: 1.2rem;
                line-height: 1.2;
            }

            .story-text {
                font-size: 0.9rem;
                line-height: 1.6;
                margin-bottom: 15px;
                text-align: left;
            }

            .choices {
                gap: 10px;
                margin-top: 15px;
            }

            .choice-button {
                padding: 10px;
                font-size: 0.8rem;
                min-height: 50px;
                border-radius: 6px;
            }

            .choice-button:hover {
                transform: none;
            }

            .tech-formula {
                padding: 10px;
                font-size: 0.85rem;
                margin: 10px 0;
                border-left-width: 3px;
            }

            .progress-bar {
                height: 6px;
                margin: 10px 0;
            }

            .ending {
                padding: 15px;
                margin: 15px 0;
            }

            .ending h2 {
                font-size: 1.3rem;
            }

            .restart-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .year {
                font-size: 0.75rem;
            }
        }

        /* Tr√®s petits √©crans */
        @media (max-width: 320px) {
            .chapter-header h1 {
                font-size: 1.1rem;
            }

            .story-text {
                font-size: 0.85rem;
            }

            .choice-button {
                font-size: 0.75rem;
                padding: 8px;
                min-height: 45px;
            }

            .tech-formula {
                font-size: 0.8rem;
                padding: 8px;
            }
        }

        /* Mode paysage sur mobile */
        @media (max-height: 500px) and (orientation: landscape) {
            .book-container {
                padding: 10px;
            }

            .chapter-header {
                margin-bottom: 10px;
            }

            .story-text {
                margin-bottom: 10px;
            }

            .choices {
                gap: 8px;
                margin-top: 10px;
            }

            .choice-button {
                min-height: 40px;
                padding: 8px;
            }
        }

        /* Am√©lioration de l'accessibilit√© */
        @media (prefers-reduced-motion: reduce) {
            .choice-button {
                transition: none;
            }

            .choice-button:hover {
                transform: none;
            }

            .progress-fill {
                transition: none;
            }
        }

        /* Mode sombre syst√®me */
        @media (prefers-color-scheme: dark) {
            .book-container {
                background: #0a192f;
                color: #e0f0ff;
            }

            .chapter-header {
                color: #4fc3f7;
            }

            .tech-formula {
                background: rgba(2, 119, 189, 0.3);
            }
        }
    </style>
</head>
<body>
    <div class="book-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%"></div>
        </div>
        
        <div id="story-content">
            <div class="loading">Chargement du voyage lunaire...</div>
        </div>
    </div>

    <script>
        // Donn√©es du jeu
        const storyData = {
            start: {
                title: "Prologue : Le R√™ve C√©leste",
                year: "1903 - Kaluga, Russie",
                text: `Vous √™tes <span class="character">Konstantin Tsiolkovski</span>, enseignant solitaire et visionnaire. Dans votre atelier, vous contemplez les √©toiles et imaginez des voyages interplan√©taires. Votre √©quation fondamentale vient de na√Ætre : la cl√© math√©matique de la propulsion par fus√©e.`,
                formula: "Œîv = v‚Çë ln(m‚ÇÄ/m‚ÇÅ) - L'√©quation de Tsiolkovski",
                choices: [
                    { text: "A. Publier imm√©diatement vos id√©es r√©volutionnaires", next: "publish_early" },
                    { text: "B. Perfectionner la th√©orie avant de la partager", next: "refine_theory" },
                    { text: "C. Chercher des soutiens financiers", next: "seek_funding" },
                    { text: "D. Construire un prototype simple", next: "build_prototype" }
                ],
                progress: 5
            },

            publish_early: {
                title: "Les Premiers Pas",
                year: "1905 - Moscou",
                text: `Votre publication dans "La Science et la Vie" cr√©e un petit √©moi dans la communaut√© scientifique. Certains vous traitent de r√™veur, d'autres voient le potentiel de vos id√©es.`,
                choices: [
                    { text: "A. Faire une conf√©rence publique pour d√©fendre vos id√©es", next: "public_lecture" },
                    { text: "B. √âcrire un livre complet sur les voyages spatiaux", next: "write_book" },
                    { text: "C. Travailler sur un moteur √† r√©action pratique", next: "jet_engine" },
                    { text: "D. Abandonner face aux critiques", next: "give_up_early" }
                ],
                progress: 10
            },

            refine_theory: {
                title: "Perfectionnement Th√©orique",
                year: "1910 - Kaluga",
                text: `Pendant sept ans, vous perfectionnez vos th√©ories : syst√®mes de guidage, combinaisons spatiales, stations orbitales. Vos cahiers d√©bordent d'innovations qui devanceront votre √©poque.`,
                formula: "Concepts : multi-√©tages, carburant liquide, scaphandres",
                choices: [
                    { text: "A. Publier votre travail complet", next: "publish_complete" },
                    { text: "B. Chercher des applications militaires pour financer vos recherches", next: "military_apps" },
                    { text: "C. Envoyer vos travaux aux acad√©mies europ√©ennes", next: "european_academies" },
                    { text: "D. Construire un laboratoire de recherche", next: "build_lab" }
                ],
                progress: 12
            },

            public_lecture: {
                title: "Le R√™veur de Kaluga",
                year: "1906 - Saint-P√©tersbourg",
                text: `Votre conf√©rence publique attire une foule curieuse. Parmi les spectateurs, un jeune ing√©nieur allemand nomm√© Hermann Oberth prend des notes fi√©vreusement. Votre vision inspire une nouvelle g√©n√©ration.`,
                choices: [
                    { text: "A. Prendre Oberth comme √©tudiant", next: "oberth_student" },
                    { text: "B. Fonder une soci√©t√© d'astronautique", next: "found_society" },
                    { text: "C. Travailler sur un d√©monstrateur technique", next: "tech_demonstrator" },
                    { text: "D. Se concentrer sur la propulsion √©lectrique", next: "electric_propulsion" }
                ],
                progress: 15
            },

            oberth_student: {
                title: "Le Disciple",
                year: "1907 - Kaluga",
                text: `Oberth passe un an avec vous √† d√©velopper vos id√©es. Ensemble, vous explorez les fus√©es √† propergol liquide. Mais la Premi√®re Guerre mondiale approche...`,
                choices: [
                    { text: "A. L'encourager √† retourner en Allemagne d√©velopper vos id√©es", next: "oberth_germany" },
                    { text: "B. Travailler sur des applications pacifiques", next: "peaceful_apps" },
                    { text: "C. Chercher des financements pour un projet commun", next: "joint_project" },
                    { text: "D. Pr√©parer un trait√© complet sur l'astronautique", next: "treatise" }
                ],
                progress: 18
            },

            oberth_germany: {
                title: "La Graine Sem√©e",
                year: "1914 - Allemagne",
                text: `Oberth retourne en Allemagne avec vos id√©es. La guerre √©clate, et il est recrut√© pour travailler sur les armes. Vos th√©ories prennent une tournure militaire inattendue.`,
                choices: [
                    { text: "A. Protester contre l'utilisation militaire", next: "protest_military" },
                    { text: "B. Continuer vos recherches th√©oriques", next: "continue_research" },
                    { text: "C. Travailler secr√®tement sur des projets civils", next: "secret_civil" },
                    { text: "D. Abandonner temporairement", next: "temporary_abandon" }
                ],
                progress: 20
            },

            wernher_von_braun: {
                title: "Chapitre 2 : Les Armes de la Nuit",
                year: "1937 - Peenem√ºnde, Allemagne",
                text: `Vous √™tes maintenant <span class="character">Wernher von Braun</span>, jeune prodige de 25 ans. Sous le r√©gime nazi, vous dirigez le d√©veloppement de l'arme secr√®te : l'Aggregat 4, plus tard connu sous le nom de V2.`,
                formula: "V2 : 320 km de port√©e, altitude 80 km, vitesse Mach 4",
                choices: [
                    { text: "A. Maximiser la performance technique", next: "max_performance" },
                    { text: "B. Saboter discr√®tement le programme", next: "sabotage" },
                    { text: "C. Pr√©parer l'apr√®s-guerre et les applications spatiales", next: "post_war" },
                    { text: "D. Ob√©ir aveugl√©ment aux ordres", next: "blind_obedience" }
                ],
                progress: 30
            },

            max_performance: {
                title: "L'Arme de Repr√©sailles",
                year: "1944 - Allemagne",
                text: `Votre √©quipe cr√©e une arme r√©volutionnaire. Plus de 3 000 V2 seront lanc√©s, faisant des milliers de victimes. Mais techniquement, vous avez prouv√© que les fus√©es peuvent atteindre l'espace.`,
                choices: [
                    { text: "A. Planifier secr√®tement la reddition aux Am√©ricains", next: "surrender_us" },
                    { text: "B. D√©velopper une version spatiale", next: "space_version" },
                    { text: "C. Documenter tout votre travail pour l'apr√®s-guerre", next: "document_work" },
                    { text: "D. Ob√©ir aux ordres jusqu'au bout", next: "obey_orders" }
                ],
                progress: 35
            },

            surrender_us: {
                title: "Op√©ration Paperclip",
                year: "1945 - Nouveau-Mexique, USA",
                text: `Vous et votre √©quipe vous rendez aux Am√©ricains. Transf√©r√©s aux √âtats-Unis, vous commencez √† travailler sur des missiles balistiques, avec la promesse secr√®te de d√©velopper des fus√©es spatiales.`,
                choices: [
                    { text: "A. Se concentrer sur les applications militaires", next: "focus_military" },
                    { text: "B. Lancer une campagne publique pour l'espace", next: "space_campaign" },
                    { text: "C. D√©velopper une fus√©e √† usage scientifique", next: "scientific_rocket" },
                    { text: "D. Pr√©parer une proposition pour un satellite", next: "satellite_proposal" }
                ],
                progress: 40
            },

            space_campaign: {
                title: "L'Appel des √âtoiles",
                year: "1952 - USA",
                text: `Votre livre "L'Exploration de Mars" et vos apparitions t√©l√©vis√©es dans l'√©mission de Disney popularisent l'id√©e des voyages spatiaux. Le public am√©ricain r√™ve maintenant d'espace.`,
                choices: [
                    { text: "A. Pousser pour un programme spatial civil", next: "civil_space" },
                    { text: "B. Travailler avec l'arm√©e sur un ICBM", next: "icbm" },
                    { text: "C. D√©velopper un concept de station spatiale", next: "space_station" },
                    { text: "D. Concevoir une fus√©e lunaire", next: "lunar_rocket" }
                ],
                progress: 45
            },

            sputnik_shock: {
                title: "Chapitre 3 : La Course Spatiale",
                year: "1957 - Cap Canaveral",
                text: `Le bip-bip de Spoutnik r√©sonne dans le monde entier. Les Sovi√©tiques ont pris une avance d√©cisive. Le pr√©sident Eisenhower exige une r√©ponse imm√©diate.`,
                formula: "Spoutnik : 58 cm de diam√®tre, 83 kg, 96 minutes/orbite",
                choices: [
                    { text: "A. Acc√©l√©rer le programme Vanguard", next: "vanguard" },
                    { text: "B. Proposer une nouvelle fus√©e plus puissante", next: "new_rocket" },
                    { text: "C. Copier la technologie sovi√©tique", next: "copy_soviets" },
                    { text: "D. Miser sur une mission lunaire pour reprendre l'avantage", next: "lunar_mission" }
                ],
                progress: 50
            },

            vanguard: {
                title: "Le Fiasco de Vanguard",
                year: "1957 - Cap Canaveral",
                text: `Sous pression, le lancement de Vanguard est pr√©cipit√©. La fus√©e explose au d√©collage sous les cam√©ras du monde entier. Les m√©dias l'appellent "Kaputnik" et "Flopnik".`,
                choices: [
                    { text: "A. Prendre le risque de lancer Jupiter-C", next: "jupiter_c" },
                    { text: "B. Revoir compl√®tement la conception", next: "redesign" },
                    { text: "C. Demander plus de financement", next: "more_funding" },
                    { text: "D. Bl√¢mer les ing√©nieurs", next: "blame_engineers" }
                ],
                progress: 52
            },

            jupiter_c: {
                title: "Explorer 1",
                year: "1958 - Floride",
                text: `Malgr√© les risques, vous lancez la fus√©e Jupiter-C avec le satellite Explorer 1. Le succ√®s est total : les √âtats-Unis entrent dans l'√®re spatiale et d√©couvrent les ceintures de radiation de Van Allen.`,
                choices: [
                    { text: "A. Proposer un programme habit√©", next: "manned_program" },
                    { text: "B. D√©velopper des satellites scientifiques", next: "science_satellites" },
                    { text: "C. Cr√©er une agence spatiale civile", next: "nasa_creation" },
                    { text: "D. Travailler sur un atterrisseur lunaire", next: "lunar_lander" }
                ],
                progress: 55
            },

            nasa_creation: {
                title: "La Naissance de la NASA",
                year: "1958 - Washington",
                text: `Votre plaidoyer aboutit √† la cr√©ation de la NASA. Vous √™tes nomm√© directeur du Marshall Space Flight Center. Votre r√™ve d'exploration spatiale devient une r√©alit√© institutionnelle.`,
                choices: [
                    { text: "A. D√©velopper la famille de fus√©es Saturn", next: "saturn_development" },
                    { text: "B. Lancer le programme Mercury pour les vols habit√©s", next: "mercury_program" },
                    { text: "C. Planifier une mission circumlunaire", next: "circumlunar" },
                    { text: "D. Travailler sur un moteur nucl√©aire", next: "nuclear_engine" }
                ],
                progress: 60
            },

            kennedy_challenge: {
                title: "Le D√©fi de la D√©cennie",
                year: "1961 - Washington",
                text: `Apr√®s le vol de Gagarine, le pr√©sident Kennedy lance un d√©fi historique : "Avant la fin de cette d√©cennie, faire atterrir un homme sur la Lune et le ramener sain et sauf sur Terre".`,
                choices: [
                    { text: "A. Adopter l'approche du Rendez-vous Orbital Lunaire (LOR)", next: "lor_approach" },
                    { text: "B. Choisir le Vol Direct", next: "direct_ascent" },
                    { text: "C. D√©velopper un vaisseau nucl√©aire", next: "nuclear_ship" },
                    { text: "D. Proposer une base lunaire permanente", next: "lunar_base" }
                ],
                progress: 65
            },

            lor_approach: {
                title: "L'√âl√©gante Solution",
                year: "1962 - Houston",
                text: `Le Rendez-vous Orbital Lunaire (LOR) est choisi : un module de commande en orbite lunaire et un module lunaire d√©di√© √† l'atterrissage. Cette solution √©conomise du poids mais n√©cessite un rendez-vous orbital complexe √† 380 000 km de la Terre.`,
                formula: "LOR : √©conomie de 15 tonnes par rapport au vol direct",
                choices: [
                    { text: "A. D√©velopper le module lunaire (LEM)", next: "lem_development" },
                    { text: "B. Tester d'abord le rendez-vous orbital terrestre", next: "earth_rendezvous" },
                    { text: "C. Am√©liorer la fiabilit√© du moteur du LEM", next: "lem_engine" },
                    { text: "D. Ajouter un module de secours", next: "backup_module" }
                ],
                progress: 70
            },

            lem_development: {
                title: "L'Araign√©e Lunaire",
                year: "1965 - Californie",
                text: `Le module lunaire (LEM) prend forme : un v√©hicule fragile aux jambes gr√™les, sans a√©rodynamisme, con√ßu uniquement pour fonctionner dans le vide spatial. Les tests r√©v√®lent des probl√®mes de stabilit√©.`,
                choices: [
                    { text: "A. Renforcer la structure", next: "strengthen_structure" },
                    { text: "B. Simplifier le design", next: "simplify_design" },
                    { text: "C. Ajouter des r√©trofus√©es suppl√©mentaires", next: "add_thrusters" },
                    { text: "D. Repenser compl√®tement l'atterrisseur", next: "redesign_lander" }
                ],
                progress: 73
            },

            apollo_1: {
                title: "Le Feu d'Apollo 1",
                year: "1967 - Cap Kennedy",
                text: `Lors d'un test au sol, un incendie √©clate dans la capsule Apollo 1, tuant les astronautes Grissom, White et Chaffee. L'enqu√™te r√©v√®le de graves d√©fauts de conception.`,
                choices: [
                    { text: "A. Arr√™ter le programme le temps de tout revoir", next: "halt_program" },
                    { text: "B. Acc√©l√©rer les modifications", next: "accelerate_changes" },
                    { text: "C. Changer le m√©lange gazeux pour l'oxyg√®ne pur", next: "change_atmosphere" },
                    { text: "D. Bl√¢mer les astronautes", next: "blame_astronauts" }
                ],
                progress: 75
            },

            neil_armstrong: {
                title: "Chapitre 4 : Un Petit Pas",
                year: "1969 - Mer de la Tranquillit√©",
                text: `Vous √™tes <span class="character">Neil Armstrong</span>, commandant d'Apollo 11. Apr√®s quatre jours de voyage, vous vous appr√™tez √† piloter le module lunaire Eagle vers la surface de la Lune. Les alarmes informatiques retentissent.`,
                formula: "Code 1202 : d√©passement de capacit√© de l'ordinateur",
                choices: [
                    { text: "A. Annuler l'atterrissage", next: "abort_landing" },
                    { text: "B. Continuer - l'ordinateur priorise les fonctions critiques", next: "continue_landing" },
                    { text: "C. Basculer sur le syst√®me manuel", next: "manual_control" },
                    { text: "D. Demander conseil √† Houston", next: "ask_houston" }
                ],
                progress: 90
            },

            continue_landing: {
                title: "La Descente P√©rilleuse",
                year: "20 juillet 1969",
                text: `Vous ignorez les alarmes et continuez la descente. Mais le site pr√©vu est jonch√© de rochers. Le carburant s'√©puise : il ne reste que 30 secondes de marge.`,
                choices: [
                    { text: "A. Atterrir malgr√© les rochers", next: "land_rocks" },
                    { text: "B. Chercher un site plus s√ªr", next: "find_safer_site" },
                    { text: "C. Atterrir en mode manuel pur", next: "full_manual" },
                    { text: "D. Annuler au dernier moment", next: "last_second_abort" }
                ],
                progress: 95
            },

            find_safer_site: {
                title: "Tranquility Base",
                year: "20 juillet 1969 - 20:17 UTC",
                text: `Vous survolez le champ de rochers et trouvez un site d√©gag√©. Avec seulement 17 secondes de carburant restant, vous posez l'Eagle : "Houston, ici la base de la Tranquillit√©. L'Aigle a atterri."`,
                choices: [
                    { text: "A. Sortir imm√©diatement", next: "immediate_eva" },
                    { text: "B. V√©rifier tous les syst√®mes d'abord", next: "check_systems" },
                    { text: "C. Prendre un repos avant la sortie", next: "rest_first" },
                    { text: "D. Pr√©parer le discours historique", next: "prepare_speech" }
                ],
                progress: 97
            },

            victory: {
                title: "√âpilogue : Un Bond pour l'Humanit√©",
                year: "21 juillet 1969 - 02:56 UTC",
                text: `F√©licitations ! Vous avez r√©ussi √† suivre le chemin qui a men√© l'humanit√© sur la Lune. √Ä 02h56 UTC, vous descendez l'√©chelle du module lunaire et posez le pied sur la surface poussi√©reuse :<br><br>
                "C'est un petit pas pour l'homme, un bond de g√©ant pour l'humanit√©."<br><br>
                600 millions de personnes ont suivi cet instant historique √† la t√©l√©vision. Vous avez accompli ce qui semblait impossible.`,
                formula: "Mission accomplie : 400 000 km parcourus",
                ending: "success",
                progress: 100
            },

            // Fins alternatives
            give_up_early: {
                title: "Le R√™ve Oubli√©",
                year: "1910 - Kaluga",
                text: `D√©courag√© par le manque de soutien, vous rangez vos cahiers. Vos id√©es r√©volutionnaires restent dans l'ombre pendant des d√©cennies. L'histoire des fus√©es prend un autre chemin.`,
                ending: "failure",
                progress: 10
            },

            apollo_13: {
                title: "Succ√®s de l'√âchec",
                year: "1970 - Espace lointain",
                text: `Votre mission Apollo 13 a subi une explosion en route vers la Lune. Gr√¢ce √† votre sang-froid et l'ing√©niosit√© des √©quipes au sol, vous avez r√©ussi √† ramener l'√©quipage sain et sauf. Un √©chec qui reste dans les m√©moires comme un triomphe de l'ing√©nierie.`,
                formula: "Houston, nous avons eu un probl√®me",
                ending: "failure",
                progress: 85
            },

            soviet_victory: {
                title: "La Lune Rouge",
                year: "1968 - Mer de la Tranquillit√©",
                text: `Les Sovi√©tiques vous ont devanc√© ! Alexei Leonov devient le premier homme √† marcher sur la Lune. Malgr√© vos efforts, la course spatiale est perdue. Le drapeau rouge flotte sur la Lune.`,
                ending: "failure",
                progress: 75
            },

            budget_cuts: {
                title: "La Fin du R√™ve",
                year: "1968 - Washington",
                text: `Face aux co√ªts exorbitants et √† la guerre du Vietnam, le Congr√®s annule le programme Apollo. Vos ann√©es d'efforts n'aboutiront pas. La Lune restera hors de port√©e pour cette g√©n√©ration.`,
                ending: "failure",
                progress: 70
            },

            // Dead ends
            dead_end_1: {
                title: "Impasse : Les Limites de la Technologie",
                text: `Votre approche, bien que brillante, se heurte aux limites technologiques de votre √©poque. Les mat√©riaux, la propulsion et l'√©lectronique ne sont pas encore au niveau requis. Le r√™ve lunaire devra attendre une autre g√©n√©ration.`,
                formula: "L'innovation doit attendre son heure",
                ending: "failure",
                progress: 25
            },

            dead_end_2: {
                title: "Impasse : L'Erreur Technique",
                text: `Une erreur de conception minime a eu des cons√©quences catastrophiques. En ing√©nierie spatiale, chaque d√©tail compte. L'√©chec vous rappelle que la route vers les √©toiles est pav√©e de d√©fis immenses.`,
                formula: "Dans l'espace, les erreurs ne pardonnent pas",
                ending: "failure",
                progress: 45
            },

            dead_end_3: {
                title: "Impasse : Le Facteur Humain",
                text: `Malgr√© vos prouesses techniques, les tensions politiques, les contraintes budg√©taires et les rivalit√©s personnelles ont eu raison du programme. Parfois, les plus grands obstacles ne sont pas techniques mais humains.`,
                formula: "Les √©toiles attendent que l'humanit√© soit pr√™te",
                ending: "failure",
                progress: 65
            }
        };

        // Variable pour stocker les donn√©es du jeu
        let story = null;
        let currentNode = 'start';

        // Fonction pour afficher un n≈ìud
        function displayNode(nodeId) {
            if (!story || !story[nodeId]) {
                console.error('N≈ìud non trouv√©:', nodeId);
                return;
            }

            const node = story[nodeId];
            const content = document.getElementById('story-content');
            const progress = document.getElementById('progress');
            
            progress.style.width = (node.progress || 0) + '%';
            
            if (node.ending) {
                // Fin du jeu
                content.innerHTML = `
                    <div class="chapter-header">
                        <h1>${node.title}</h1>
                        ${node.year ? `<div class="year">${node.year}</div>` : ''}
                    </div>
                    <div class="story-text">${node.text}</div>
                    ${node.formula ? `<div class="tech-formula">${node.formula}</div>` : ''}
                    <div class="ending ${node.ending}">
                        <h2>${node.ending === 'success' ? 'üöÄ VICTOIRE ! üöÄ' : 'üí• √âCHEC üí•'}</h2>
                        <p>${node.ending === 'success' ? 'Vous avez accompli le plus grand exploit de l\'humanit√© !' : 'La Lune reste hors de port√©e... pour cette fois.'}</p>
                        <button class="restart-button" onclick="restart()">Recommencer l'aventure</button>
                    </div>
                `;
            } else if (node.choices) {
                // N≈ìud normal avec choix
                content.innerHTML = `
                    <div class="chapter-header">
                        <h1>${node.title}</h1>
                        ${node.year ? `<div class="year">${node.year}</div>` : ''}
                    </div>
                    <div class="story-text">${node.text}</div>
                    ${node.formula ? `<div class="tech-formula">${node.formula}</div>` : ''}
                    <div class="choices">
                        ${node.choices.map(choice => 
                            `<button class="choice-button" onclick="makeChoice('${choice.next}')">${choice.text}</button>`
                        ).join('')}
                    </div>
                `;
            } else {
                // N≈ìud sans choix (ne devrait pas arriver)
                content.innerHTML = `
                    <div class="chapter-header">
                        <h1>${node.title}</h1>
                        ${node.year ? `<div class="year">${node.year}</div>` : ''}
                    </div>
                    <div class="story-text">${node.text}</div>
                    ${node.formula ? `<div class="tech-formula">${node.formula}</div>` : ''}
                `;
            }
        }

        // Fonction pour faire un choix
        function makeChoice(nextNode) {
            currentNode = nextNode;
            displayNode(currentNode);
        }

        // Fonction pour recommencer
        function restart() {
            currentNode = 'start';
            displayNode(currentNode);
        }

        // Initialiser le jeu
        function initGame() {
            story = storyData;
            displayNode(currentNode);
        }

        // Charger le jeu au d√©marrage
        initGame();
    </script>
</body>
</html>